/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/8.0.1/samples
 */

buildscript {
  dependencies {
    classpath 'org.postgresql:postgresql:42.2.14'
  }
}
plugins {
  id "java"
  id "application"
  id "org.flywaydb.flyway" version "9.15.1"
}

sourceCompatibility = JavaVersion.VERSION_17
targetCompatibility = JavaVersion.VERSION_17

repositories {
  mavenCentral()
}

dependencies {
  implementation 'com.yugabyte:jdbc-yugabytedb:42.3.5-yb-2'
}
mainClassName = 'SampleApp'

archivesBaseName = "simple-gradle-flyway"
jar {
  manifest {
    attributes "Main-Class": mainClassName
  }

  from {
    configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
  }
}

flyway {
  url = 'jdbc:postgresql://localhost:5433/yugabyte'
  user = 'yugabyte'
  password = ''
  driver = 'org.postgresql.Driver'
  schemas = ['public']
}
